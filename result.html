<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="utf-8" />
  <title>JACKPOT-COM</title>

  <!-- GA (kept) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7RP6R1WJ55"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-7RP6R1WJ55');
  </script>
  <!-- Firebase (compat) -->

  <style>
    :root {
      /* ðŸ”§ Set your background image here */
      --bg: url('img/bg-img.png');

      /* Light lottery palette (no motion) */
      --ink: #1a1a1a;
      --muted: #5c5c5c;
      --gold: #f7c948;
      --gold-deep: #e3a600;
      --red: #e53935;
      --red-deep: #c62828;

      --glass: rgba(255, 255, 255, .88);
      --glass-strong: rgba(255, 255, 255, .95);
      --glass-brd: rgba(0, 0, 0, .10);
      --shadow: 0 10px 28px rgba(0, 0, 0, .12);
      --r-lg: 18px;
      --r-md: 12px;
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      margin: 0;
      padding: 0;
      color: var(--ink);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
    }

    /* Full-page responsive background image */
    body {
      text-align: center;
      background-image: var(--bg);
      background-repeat: no-repeat;
      background-position: center center;
      background-size: cover;
      min-height: 100dvh;
    }

    /* ===== Header (replaces old header <img>) ===== */
    header {
      position: relative;
      z-index: 2;
      height: 90px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-bottom: 1px solid var(--glass-brd);
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
    }

    header h1 {
      margin: 0;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 1000;
      font-size: clamp(26px, 4vw, 38px);
      background: linear-gradient(135deg, #8d5c00, #ffdb7a 35%, #fff3c4 55%, #e2a700);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 1px 0 rgba(255, 255, 255, .85);
    }

    /* ===== Top nav (your #saturday stays) ===== */
    #saturday {
      list-style: none;
      margin: 14px auto 0;
      padding: 10px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      background: var(--glass);
      border-radius: var(--r-lg);
      width: min(1200px, 94vw);
      border: 1px solid var(--glass-brd);
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
    }

    #saturday>li {
      display: flex;
      align-items: center;
    }

    /* Gold buttons; red on hover (no animation) */
    #saturday a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: 40px;
      padding: 0 14px;
      border-radius: 10px;
      text-decoration: none;
      font-weight: 900;
      color: white;
      background: linear-gradient(180deg, #30b760, #57534a);
      box-shadow: inset 0 1px 0 #fff, 0 6px 14px rgba(247, 201, 72, .16);
    }

    #saturday a:hover {
      color: #7a0f0d;
      background: linear-gradient(180deg, #ffe5e2, #ffd0cc);
      border-color: rgba(229, 57, 53, .35);
      box-shadow: inset 0 1px 0 #fff, 0 6px 14px rgba(229, 57, 53, .16);
    }

    /* Timer chunk */
    .textbox {
      font-weight: 900;
      color: #6b4b00;
    }

    #saturday .textbox {
      display: inline-flex;
      align-items: center;
      background: linear-gradient(180deg, #ffffff, #fff5df);
      border: 1px solid rgba(230, 164, 0, .35);
      border-radius: 999px;
      padding: 6px 10px;
      margin: 0 4px;
      box-shadow: inset 0 1px 0 #fff, 0 6px 14px rgba(247, 201, 72, .16);
    }

    #displaytime1,
    #displaytime2 {
      width: 106px;
      height: 30px;
      text-align: center;
      border: none;
      outline: none;
      color: #1f1f1f;
      font-weight: 900;
      letter-spacing: .5px;
      margin: 0 6px;
      background: linear-gradient(180deg, #ffffff, #f6f6f6);
      border-radius: 10px;
      box-shadow: inset 0 2px 6px rgba(0, 0, 0, .08), 0 0 0 1px rgba(0, 0, 0, .05);
    }

    /* ===== Slot header (links) ===== */
    #scroller-header {
      width: 100%;
      margin-top: 12px;
      display: flex;
      justify-content: center;
    }

    #scroller-table {
      width: min(1200px, 94vw);
      background: var(--glass);
      border: 1px solid var(--glass-brd);
      border-radius: var(--r-md);
      box-shadow: var(--shadow);
      padding: 6px 8px;
      backdrop-filter: blur(6px);
    }

    #slot-links {
      display: flex;
      gap: 8px;
      justify-content: center;
      align-items: center;
      list-style: none;
      margin: 0;
      padding: 0;
      flex-wrap: wrap;
    }

    #slot-links a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: 34px;
      padding: 0 10px;
      border-radius: 9px;
      text-decoration: none;
      font-weight: 900;
      font-size: 12px;
      color: #5a3a00;
      background: linear-gradient(180deg, #fff9e9, #ffe9ba);
      border: 1px solid rgba(230, 164, 0, .35);
    }

    #slot-links a.active {
      color: #7a0f0d;
      background: linear-gradient(180deg, #ffe2df, #ffc9c4);
      border-color: rgba(229, 57, 53, .35);
    }

    /* ===== Panels ===== */
    #scroller-body {
      width: 100%;
      display: flex;
      justify-content: center;
      margin: 12px 0 18px;
    }

    #mask {
      width: min(1200px, 94vw);
    }

    #panel {
      position: relative;
    }

    /* Panel cards sit on glass so they read on any photo */
    #panel .panel {
      display: none;
      background: var(--glass-strong);
      border: 1px solid var(--glass-brd);
      border-radius: var(--r-lg);
      box-shadow: var(--shadow);
      padding: 14px;
      color: #1b1b1b;
    }

    #panel .panel a {
      color: #0b33b7;
      text-decoration: none;
    }

    /* Responsive */
    @media (max-width: 720px) {
      #saturday {
        padding: 10px 8px;
      }

      #saturday a {
        height: 38px;
        padding: 0 12px;
      }

      #displaytime1,
      #displaytime2 {
        width: 96px;
      }

      #slot-links a {
        height: 32px;
        padding: 0 8px;
        font-size: 11px;
      }
    }
  </style>
</head>

<body style="text-align:center" onload="boot()">
  <!-- NEW header bar (replaces the old header image row) -->
  <header>
    <h1>KINGAPP7</h1>
  </header>

  <form name="timeform">
    <table width="100%" border="0" cellspacing="0" cellpadding="0">
      <!-- removed the <img> header row -->
      <tr align="center">
        <td>
          <ul id="saturday">
            <li><a href="/" title="Home">Home</a></li>
            <li><a href="result" title="Today Result">Today Result</a></li>
            <li><a href="resultdownload" title="Download Result">Download Result</a></li>
            <li><a href="#" title="">Schemes </a></li>
            <li><a href="#" title="">Contact us</a></li>
            <li><a href="chart" title="">Chart</a></li>
            <li>
              <span class="textbox">DRAW TIME :</span>
              <input type="text" id="displaytime1" name="displaytime1" size="8" readonly class="textbox"
                value="--:-- --" />
              <span class="textbox">TIME LEFT :</span>
              <input type="text" id="displaytime2" name="displaytime2" size="8" class="textbox" readonly
                value="00:00:00" />
            </li>
          </ul>
        </td>
      </tr>
    </table>
  </form>

  <!-- Slot links -->
  <div id="scroller-header">
    <div id='scroller-table'>
      <ul id="slot-links">
        <li><a href="#panel-1" data-rel="panel">LOTO 11:00 A</a></li>
        <li><a href="#panel-2" data-rel="panel">JACK 12:00 P</a></li>
        <li><a href="#panel-3" data-rel="panel">LUCK 01:00 P</a></li>
        <li><a href="#panel-4" data-rel="panel">QUEE 02:00 P</a></li>
        <li><a href="#panel-5" data-rel="panel">KING 04:00 P</a></li>
        <li><a href="#panel-6" data-rel="panel">STAR 06:00 P</a></li>
        <li><a href="#panel-7" data-rel="panel">JACK 07:00 P</a></li>
        <li><a href="#panel-8" data-rel="panel">LOTO 08:00 P</a></li>
      </ul>
    </div>
  </div>

  <!-- Panels -->
  <div id="scroller-body">
    <div id="mask">
      <div id="panel">

        <div id="panel-1" class='panel'
          style="height:400px;font-family:'Courier New', Courier, monospace;text-align:left;font-size:15px;">
          </br>LOTO 11:00 AM (TUE)</br></br>DRAW NO :223 DRAW DATE ON. 12-08-2025</br></br>
          3DIGIT 1 ST PRIZE RS. 10000/-&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br>
          3DIGIT 2 ND PRIZE RS. 1000/- &nbsp;&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br></br></br>
        </div>

        <div id="panel-2" class='panel'
          style="height:400px;font-family:'Courier New', Courier, monospace;text-align:left;font-size:15px;">
          </br>JACK 12:00 PM (TUE)</br></br>DRAW NO :223 DRAW DATE ON. 12-08-2025</br></br>
          3DIGIT 1 ST PRIZE RS. 10000/-&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br>
          3DIGIT 2 ND PRIZE RS. 1000/- &nbsp;&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br></br></br>
        </div>

        <div id="panel-3" class='panel'
          style="height:400px;font-family:'Courier New', Courier, monospace;text-align:left;font-size:15px;">
          </br>LUCK 01:00 PM (TUE)</br></br>DRAW NO :223 DRAW DATE ON. 12-08-2025</br></br>
          3DIGIT 1 ST PRIZE RS. 10000/-&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br>
          3DIGIT 2 ND PRIZE RS. 1000/- &nbsp;&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br></br></br>
        </div>

        <div id="panel-4" class='panel'
          style="height:400px;font-family:'Courier New', Courier, monospace;text-align:left;font-size:15px;">
          </br>QUEE 02:00 PM (TUE)</br></br>DRAW NO :223 DRAW DATE ON. 12-08-2025</br></br>
          3DIGIT 1 ST PRIZE RS. 10000/-&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br>
          3DIGIT 2 ND PRIZE RS. 1000/- &nbsp;&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br></br></br>
        </div>

        <div id="panel-5" class='panel'
          style="height:400px;font-family:'Courier New', Courier, monospace;text-align:left;font-size:15px;">
          </br>KING 04:00 PM (TUE)</br></br>DRAW NO :223 DRAW DATE ON. 12-08-2025</br></br>
          3DIGIT 1 ST PRIZE RS. 10000/-&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br>
          3DIGIT 2 ND PRIZE RS. 1000/- &nbsp;&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br></br></br>
        </div>

        <div id="panel-6" class='panel'
          style="height:400px;font-family:'Courier New', Courier, monospace;text-align:left;font-size:15px;">
          </br>STAR 06:00 PM (TUE)</br></br>DRAW NO :223 DRAW DATE ON. 12-08-2025</br></br>
          3DIGIT 1 ST PRIZE RS. 10000/-&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br>
          3DIGIT 2 ND PRIZE RS. 1000/- &nbsp;&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br></br></br>
        </div>

        <div id="panel-7" class='panel'
          style="height:400px;font-family:'Courier New', Courier, monospace;text-align:left;font-size:15px;">
          </br>JACK 07:00 PM (TUE)</br></br>DRAW NO :223 DRAW DATE ON. 12-08-2025</br></br>
          3DIGIT 1 ST PRIZE RS. 10000/-&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br>
          3DIGIT 2 ND PRIZE RS. 1000/- &nbsp;&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br></br></br>
        </div>

        <div id="panel-8" class='panel'
          style="height:400px;font-family:'Courier New', Courier, monospace;text-align:left;font-size:15px;">
          </br>LOTO 08:00 PM (TUE)</br></br>DRAW NO :223 DRAW DATE ON. 12-08-2025</br></br>
          3DIGIT 1 ST PRIZE RS. 10000/-&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br>
          3DIGIT 2 ND PRIZE RS. 1000/- &nbsp;&nbsp;&nbsp;<a style='color:#0000CC'></a></br></br></br></br>
        </div>

      </div>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <script>
    // ===== Firebase init =====
    const firebaseConfig = {
      apiKey: "AIzaSyBNl9NMqKrmYqY9WPG-v-jAFbiv5d-vef8",
      authDomain: "jackspot-bd84f.firebaseapp.com",
      databaseURL: "https://jackspot-bd84f-default-rtdb.firebaseio.com",
      projectId: "jackspot-bd84f",
      storageBucket: "jackspot-bd84f.firebasestorage.app",
      messagingSenderId: "740333832481",
      appId: "1:740333832481:web:89c6c084af318ed1c01660",
      measurementId: "G-H4QH4TR65X"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // ===== Time helpers (IST) =====
    let SLOTS = ["11:00", "12:00", "13:00", "14:00", "16:00", "18:00", "19:00", "20:00"]; // fallback
    const nowIST = () => new Date(new Date().toLocaleString('en-US', { timeZone: 'Asia/Kolkata' }));
    const todayIST = () => {
      const d = nowIST();
      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;
    };
    const istAt = (hhmm) => { const [H, M] = hhmm.split(':').map(Number); const d = nowIST(); d.setHours(H, M, 0, 0); return d; };
    const nextOccurrenceIST = (hhmm) => {
      const t = istAt(hhmm);
      const n = nowIST();
      if (t <= n) { t.setDate(t.getDate() + 1); }
      return t;
    };

    function fmt12(d) {
      let h = d.getHours();
      const m = String(d.getMinutes()).padStart(2, '0');
      const ampm = h >= 12 ? 'PM' : 'AM';
      h = h % 12; if (h === 0) h = 12;
      return `${String(h).padStart(2, '0')}:${m} ${ampm}`;
    }

    // ===== NEXT DRAW =====
    function computeNextDraw() {
      const n = nowIST();
      const slots = (Array.isArray(SLOTS) ? SLOTS : [])
        .map(s => String(s).trim())
        .filter(s => /^\d{2}:\d{2}$/.test(s))
        .sort((a, b) => a.localeCompare(b));
      for (const s of slots) {
        const t = istAt(s);
        if (t > n) return t;
      }
      return slots.length ? nextOccurrenceIST(slots[0]) : null;
    }
    function updateHeader() {
      const fTime = document.getElementById('displaytime1');
      const fRemain = document.getElementById('displaytime2');
      if (!fTime || !fRemain) return;

      const next = computeNextDraw();
      if (!next) {
        fTime.value = '--:-- --';
        fRemain.value = '00:00:00';
        return;
      }
      fTime.value = fmt12(next);

      const nowMs = nowIST().getTime();
      const tgtMs = next.getTime();
      let remain = Math.max(0, Math.floor((tgtMs - nowMs) / 1000));
      const hh = String(Math.floor(remain / 3600)).padStart(2, "0");
      const mm = String(Math.floor((remain % 3600) / 60)).padStart(2, "0");
      const ss = String(remain % 60).padStart(2, "0");
      fRemain.value = `${hh}:${mm}:${ss}`;
    }

    // Live load slots
    function watchSlots() {
      firebase.database().ref('config/slots').on('value', snap => {
        const val = snap.val();
        if (Array.isArray(val) && val.length) {
          const valid = val.filter(s => typeof s === 'string' && /^\d{2}:\d{2}$/.test(s));
          if (valid.length) SLOTS = valid;
        }
        updateHeader();
      }, () => { });
    }

    // ===== Live results =====
    const latestByTime = Object.create(null);
    function getPrizeAnchors(panelId) {
      const p = document.getElementById(panelId);
      if (!p) return [null, null];
      const links = p.querySelectorAll('a');
      return [links[0] || null, links[1] || null];
    }
    function renderPanel(panelId, number3) {
      const [a3, a2] = getPrizeAnchors(panelId);
      if (!a3 || !a2) return;
      if (number3 && number3.length === 3) {
        a3.textContent = number3;
        a2.textContent = number3.slice(-2);
      } else {
        a3.textContent = ''; a2.textContent = '';
      }
    }
    function renderAll() {
      const now = nowIST();
      const map = {
        '11:00': 'panel-1', '12:00': 'panel-2', '13:00': 'panel-3', '14:00': 'panel-4',
        '16:00': 'panel-5', '18:00': 'panel-6', '19:00': 'panel-7', '20:00': 'panel-8'
      };
      Object.keys(map).forEach(t => {
        const gate = istAt(t);
        const data = latestByTime[t];
        if (now >= gate && data && data.number && data.number.length === 3) {
          renderPanel(map[t], data.number);
        } else {
          renderPanel(map[t], '');
        }
      });
    }
    function listenToday() {
      const date = todayIST();
      firebase.database().ref('results/' + date).on('value', snap => {
        for (const k in latestByTime) delete latestByTime[k];
        const val = snap.val() || {};
        Object.keys(val).sort().forEach(key => {
          const item = val[key] || {};
          const t = item.time;
          const n = (item.number || '').toString().replace(/\D/g, '').slice(0, 3);
          if (!t) return;
          const prev = latestByTime[t];
          if (!prev || key > (prev._k || '')) {
            latestByTime[t] = { number: n, _k: key };
          }
        });
        renderAll();
      });
    }
    setInterval(renderAll, 1000);

    // ===== Panel animation (unchanged, only panels slide) =====
    document.addEventListener('DOMContentLoaded', function () {
      const links = Array.from(document.querySelectorAll('#scroller-header a[data-rel="panel"]'));
      const panels = Array.from(document.querySelectorAll('#panel > .panel'));

      const first = panels[0];
      if (first) first.style.display = 'block';
      if (links[0]) links[0].classList.add('active');

      function currentPanel() {
        return panels.find(p => p.style.display !== 'none' && getComputedStyle(p).display !== 'none') || null;
      }

      function showWithSlide(id) {
        const next = document.getElementById(id);
        if (!next) return;
        const cur = currentPanel();
        if (cur === next) return;

        if (cur) { cur.style.display = 'none'; }

        next.style.display = 'block';
        next.style.opacity = '0';
        next.style.transform = 'translateX(100vw)';
        next.style.transition = 'none';

        void next.offsetWidth;
        next.style.transition = 'transform 450ms ease, opacity 450ms ease';
        next.style.transform = 'translateX(0)';
        next.style.opacity = '1';

        function cleanup(e) {
          if (e && e.target !== next) return;
          next.style.transition = '';
          next.style.transform = '';
          next.style.opacity = '';
          next.removeEventListener('transitionend', cleanup);
        }
        next.addEventListener('transitionend', cleanup);
      }

      links.forEach(a => {
        a.addEventListener('click', function (e) {
          e.preventDefault();
          e.stopPropagation();
          links.forEach(x => x.classList.remove('active'));
          a.classList.add('active');

          const href = a.getAttribute('href') || '';
          if (href.startsWith('#panel-')) {
            showWithSlide(href.substring(1));
          }
        }, { capture: true });
      });
    });

    // ===== Boot =====
    function boot() {
      watchSlots();
      updateHeader();
      setInterval(updateHeader, 1000);
      listenToday();
    }
  </script>
</body>

</html>